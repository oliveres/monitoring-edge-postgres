# Edge Monitoring Stack (PostgreSQL) - Environment Variables
# Copy this file to .env and update with your values

# Host Configuration (Required)
# Unique hostname for this edge host - used to identify metrics and logs
HOSTNAME=edge-pg-host-1

# PostgreSQL Connection (Required)
# Format: postgresql://username:password@hostname:port/database?sslmode=disable
# Examples:
#   Local:     postgresql://postgres:password@localhost:5432/mydb?sslmode=disable
#   Docker:    postgresql://postgres:password@postgres:5432/mydb?sslmode=disable
#   Remote:    postgresql://user:pass@192.168.1.100:5432/prod?sslmode=require
POSTGRES_DATA_SOURCE_NAME=postgresql://monitoring_user:password@postgres-host:5432/database?sslmode=disable

# ============================================================================
# Option 1: DigitalOcean VPC Setup (Recommended for DO hosts)
# ============================================================================
# Use private VPC IP addresses - no authentication needed
# CENTRAL_PROMETHEUS_URL=http://10.116.0.2:9090/api/v1/write
# CENTRAL_LOKI_URL=http://10.116.0.2:3100/loki/api/v1/push

# ============================================================================
# Option 2: Remote VPS via HTTPS + Basic Auth
# ============================================================================
# Use public domain with authentication
CENTRAL_PROMETHEUS_URL=https://monitoring.example.com/prometheus/api/v1/write
CENTRAL_LOKI_URL=https://monitoring.example.com/loki/api/v1/push

# Basic Authentication (only needed for HTTPS, not VPC)
BASIC_AUTH_USER=remote
BASIC_AUTH_PASSWORD=your-password-here

# ============================================================================
# Notes:
# ============================================================================
# - For VPC: Comment out BASIC_AUTH_* variables
# - For HTTPS: Must set both BASIC_AUTH_USER and BASIC_AUTH_PASSWORD
# - HOSTNAME must be unique across all edge hosts
# - PostgreSQL user should have SELECT permissions on monitored tables
# - For TimescaleDB: User needs access to timescaledb_information schema
# - Ensure dispatch-network exists: docker network create dispatch-network
